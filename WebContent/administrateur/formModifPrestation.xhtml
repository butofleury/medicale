<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

  <head>
  <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
  </head>

  <h:form>
  		<a4j:keepAlive beanName="prestation" />
  			<rich:panel >
  				    <h:panelGrid columns="2" id="information" >
                       <h:graphicImage value="/images/infoReturn.png" rendered="#{prestation.error}"/>
                       <h:outputText value="#{prestation.message}" style="font-family:gautami;color:red;font-size:14px"/>
                    </h:panelGrid> 
  				    
  					<h:panelGrid columns="3">
  					   
  						<h:inputHidden value="#{prestation.selected.idPrestation}" />
  						<h:outputText value="Nom de la prestation:" /> 
  						<h:inputText id="nomPrest" value="#{prestation.selected.nomPresta}"/>
  							<br/>
  					</h:panelGrid>
  					<h:panelGrid columns="3">	
  						<h:outputText value="Categorie:" /><h:selectOneMenu value="#{prestation.selected.idCatPresta}">
  																<f:selectItem itemValue="#{prestation.selected.idCatPresta}" itemLabel="#{prestation.selected.nomCatPresta}"/>
  																<f:selectItems value="#{prestation.listCatPresta}"/>
  														   </h:selectOneMenu><br/>
  						<h:outputText value="Prix:" /><h:selectOneMenu id="prix" value="#{prestation.selected.idPrix}" style=" width : 152px;">
  																<f:selectItem itemValue="#{prestation.selected.idPrix}" itemLabel="#{prestation.selected.prix}"/>
  																<f:selectItems value="#{prestation.listPrix}"/>
  													   </h:selectOneMenu>
  									<a4j:commandLink oncomplete="#{rich:component('newPrix')}.show();" value="Nouveau prix" />
  						</h:panelGrid>
  						<h:panelGrid columns="">						
  								<br/>
  				<a4j:commandButton action="#{prestation.modifPrestation}" value="Enregistrer" data="#{prestation.message}" oncomplete="alert(data)" onclick="#{rich:component('modifPrestation')}.hide();" reRender="tabPrest" style="background-color:#7daa77;color:white;font-size:14px;border:1px solid white;border-radius:3px;;cursor:pointer;"/>							
  					</h:panelGrid>
  				
  			</rich:panel>
  </h:form>
  
  		<rich:modalPanel id="newPrix" width="350" height="180">
  				<f:facet name="header">Nouveau Prix</f:facet>
  						<f:facet name="controls">
  							<h:graphicImage value="/images/close.png" onclick="#{rich:component('newPrix')}.hide();" />
  						</f:facet>				
  				<a4j:include viewId="/administrateur/formNewPrix.xhtml"/>
  			</rich:modalPanel>
</html>
