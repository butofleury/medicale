<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a4j="http://richfaces.org/a4j"
      xmlns:rich="http://richfaces.org/rich"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">

  <head>
     <meta http-equiv="Content-Type" content="text/xhtml; charset=utf-8" />
  </head>

    <h:form id="listeResult">
       
         <h:panelGrid style="margin:auto">
       
			      <h:panelGrid columns="2">
			         <h:outputText value="Patient:" />
			          <h:inputText value="#{laborantin.searchValue}" style="background-image:url('../images/brtFine.png');background-repeat:no-repeat;background-position:center right;width:200px">
			              <a4j:support event="onkeyup" action="#{laborantin.backPatientResultat}"  reRender="infoResultat"/>
			          </h:inputText>
			         
			     </h:panelGrid>
			     
			     <h:panelGrid>
			     
			        <rich:dataTable value="#{laborantin.listPatientResultat}" var="back" id="infoResultat" rows="10">
			        
			            <rich:column>
			               <f:facet name="header">Code du patient</f:facet>
			               <h:outputText value="#{back.codePerso}" />
			               
			            </rich:column>
			            <rich:column>
			               <f:facet name="header">Nom</f:facet>
			               <h:outputText value="#{back.nom}" />
			            </rich:column>
			            <rich:column>
			               <f:facet name="header">Prenom</f:facet>
			               <h:outputText value="#{back.prenom}" />
			            </rich:column>
			            
			            <rich:column>
			              <f:facet name="header">Service</f:facet>
			              <h:outputText value="#{back.nomService}" />
			            </rich:column>
			            
			            <rich:column>
			               <f:facet name="header">Prestation ou examen</f:facet>
			               <h:outputText value="#{back.nomPresta}" />
			            </rich:column>
			            <rich:column>
			               <f:facet name="header">Resultat</f:facet>
			                   
			                     <h:outputText value="#{back.resultat}" />
			                   
			            </rich:column>
			            
			            <rich:column>
			               <f:facet name="header">Actions</f:facet>
			               
			               <h:panelGrid columns="2" style="cursor:pointer">
                              <h:graphicImage value="/images/select.png" />
                              <a4j:commandLink  value="Selectionner"  oncomplete="#{rich:component('suivantResultat')}.show()" style="text-decoration:none;color:blue">
                                   <f:setPropertyActionListener value="#{back}" target="#{laborantin.selected}" />
                              </a4j:commandLink>
              
                           </h:panelGrid>
			            
			            </rich:column>
			            
			            
			             <f:facet name="footer">
			              <rich:datascroller selectedStyle="font-weight:bold">
			             <f:facet name="first">
			                    <h:outputText value="Premier"/>
			              </f:facet>
			              <f:facet name="first_disabled">
			                   <h:outputText value="Premier"/>
			               </f:facet>
			              <f:facet name="last">
			                   <h:outputText value="Dernier"/>
			               </f:facet>
			              <f:facet name="last_disabled">
			                   <h:outputText value="Dernier"/>
			              </f:facet>
			               <f:facet name="next">
			                   <h:outputText value="Suivant"/>
			               </f:facet>
			               <f:facet name="next_disabled">
			                 <h:outputText value="Suivant"/>
			                </f:facet>
			               <f:facet name="previous">
			                    <h:outputText value="Prec"/>
			              </f:facet>
			             <f:facet name="previous_disabled">
			                    <h:outputText value="Prec"/>
			             </f:facet>
			           
			                        
			             </rich:datascroller>
			              
			         </f:facet>
			            
			        </rich:dataTable>
			         
			         
			         
			     </h:panelGrid>
      
        </h:panelGrid>
        
    </h:form>
</html>
